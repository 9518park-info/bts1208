<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë°©ì½• ë‚ ì”¨ - BTS1208</title>
<style>
body { font-family: Arial, sans-serif; margin:0; background:#f1f3f4; color:#222; }
header { background:#222; color:#fff; padding:15px 20px; text-align:center; font-size:22px; }
main { max-width:800px; margin:40px auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1);}
h1 { text-align:center; }
.info { font-size:18px; margin:15px 0; }
button { padding:10px 20px; font-size:16px; cursor:pointer; }
footer { text-align:center; padding:30px; font-size:14px; color:#555; }
</style>
</head>
<body>
<header>
ğŸŒ ë°©ì½• ê¸°ìƒ ì •ë³´ - BTS1208
</header>
<main>
<h1>ë°©ì½•</h1>
<div class="info" id="weather-info">
  ë¡œë”©ì¤‘â€¦
</div>
<div style="text-align:center; margin-top:20px;">
<button onclick="window.location.href='index.html'">â¬… ë©”ì¸ í˜ì´ì§€ë¡œ</button>
</div>
</main>
<footer>
â“’ 2025 BTS1208 â€” Global Weather Map Project
</footer>

<script>
// ========================
// ì—¬ê¸°ì—ì„œ ë°œê¸‰ë°›ì€ Key/Token ì…ë ¥
// ========================
const city = "Seoul";
const openWeatherKey = "3a3db3ff3849aed139f2e338586c54dd";
const waqiKey = "f3c70f4f162f12f4eb4a6566a97918724927da73";

function updateWeather() {
  // ë‚ ì”¨ API í˜¸ì¶œ
  fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${openWeatherKey}`)
    .then(res => res.json())
    .then(data => {
      document.getElementById("weather-info").innerHTML =
        `ğŸŒ¤ ë‚ ì”¨: ${data.weather[0].description} / ${data.main.temp}Â°C<br>`;
    }).catch(err => {
      document.getElementById("weather-info").innerHTML = "ë‚ ì”¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
    });

  // ëŒ€ê¸°ì§ˆ API í˜¸ì¶œ
  fetch(`https://api.waqi.info/feed/${city}/?token=${waqiKey}`)
    .then(res => res.json())
    .then(data => {
      document.getElementById("weather-info").innerHTML += `ğŸŒ« ëŒ€ê¸°ì§ˆ: ${data.data.aqi}`;
    }).catch(err => {
      document.getElementById("weather-info").innerHTML += "<br>ëŒ€ê¸°ì§ˆ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
    });

  // í˜„ì§€ ì‹œê°„ í‘œì‹œ
  const now = new Date();
  document.getElementById("weather-info").innerHTML += `<br>â° í˜„ì§€ ì‹œê°„: ${now.toLocaleTimeString()}`;
}

// 1ë¶„ë§ˆë‹¤ ì—…ë°ì´íŠ¸
setInterval(() => { 
  document.getElementById("weather-info").innerHTML = "";
  updateWeather();
}, 60000);

// í˜ì´ì§€ ë¡œë“œ ì‹œ ë°”ë¡œ ì‹¤í–‰
window.onload = updateWeather;
</script>

</body>
</html>
